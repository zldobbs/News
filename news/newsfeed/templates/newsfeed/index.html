{% extends 'news/template.html' %}

{% block header %}
    {% if page %} 
        <h3 class="col-sm-12">{{ page.headline }}</h3>
    {% endif %}
{% endblock %}

{% block content %}
    <div class="row article-space">
        <!-- Display most recent articles  -->
        {% if feed %}
            {% for article in feed %}
                <!-- TODO Add source and authors -->
                <div class="card col-sm-4" style="width: 20rem;">
                    {% if article.imgUrl %}
                        <img src="{{ article.imgUrl }}"  class="card-img-top" alt="{{ article.title }}" />
                    {% else %}
                        <!-- Default image if none is provided -->
                        <img src="https://www.publicdomainpictures.net/pictures/300000/nahled/abstract-art-1554597127F52.jpg" class="card-img-top" alt="{{ article.title }}" />
                    {% endif %}
                    <div class="card-body">
                        <!-- TODO Get some custom source images for popular sources.. Maybe remove .com? --> 
                        <h6 class="card-title"><a href="{% url 'source' article.source_id %}">{{ article.source }}</a></h6>
                        <h5 class="card-title">{{ article.title }}</h5>
                        <p class="card-text">{{ article.date_published }} - <a href="{% url 'author' article.author_id %}">{{ article.author }}</a></p>
                        <p class="card-text">{{ article.description }}</p>
                        <!-- TODO Keep track of clicks on any given URL --> 
                        <a href="{{ article.url }}" class="card-link btn btn-primary" target="blank">Source</a>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p>No news feed today!</p>
        {% endif %}
    </div>
{% endblock %}